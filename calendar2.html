<link href="//fonts.googleapis.com/css?family=Economica" rel="stylesheet" type="text/css">
<link href='https://fonts.googleapis.com/css?family=Cookie' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Nova+Mono' rel='stylesheet' type='text/css'>

    <style>
        body {
    font-family: monospace;

}

.wrapper {
    min-height: 100%;
}


#calendar {
    display: flex;
    align-items: center;
    flex-direction: column;
    margin:  0 auto;
    font-size: 14px;
    
}
table {
    table-layout: fixed;
    position: absolute;
    background: url(https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiHPm-Ag7IugusM3Hu7cJeGYENtswzmpRnqGbo9XyXKbYJPJCRjuhbWNqdZLmtgMPIo578GloGdUn7Lxv-Ow1BuIhyphenhyphenpZE_LMokzzO5qcWQGYF8AyPOsl40hcwN1QjuRDHpqLB9kPNLeXE4/s1600/a.png) fixed;
    background-repeat: repeat;
        border-radius: 350px 350px 0px 0px;
            border: 8px ridge #F1B4BB;


}

.month{
    background: url(https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEi-DckZWf4OXrykNHXioR5dPhU8UCaYUATmM8KUfyoAENYzyPbXCZqpAlstRJ15Tr8TVoBbQv_0ModlgSSz75Ai_fpv2LdAa7L2efaWRkL7dkNY84E6tPzIDHxaheB035hFOsy1xy9FdFE/s1600/kk.png) fixed;
    background-repeat: repeat;    background-repeat: repeat;
    border-top-left-radius: 340px;
    border-top-right-radius: 340px;
    padding:100px -10px 0px 0px;
    font: bold 85px "Cookie";
    text-shadow: 0 0 5px #111;
    color: #fff;
    -webkit-transition: 0.4s; 
    -moz-transition: 0.4s;
}

.month:hover{
    color: #F11A7B;
        -webkit-transition: 0.4s; 
        -moz-transition: 0.4s;}
        
.year {
    font-size: 32px;
    font-weight: normal;
    display: block;
    text-shadow: none;
    color: #666;
}

.day-header{
    padding:0px;
    color:#fff;
    background-color: #F1B4BB;
    border: 1px dashed transparent;

        -webkit-transition: 2.4s; 
        -moz-transition: 2.4s;

}

.day-header:hover{
    background-color: #fff;
    box-shadow:inset 0px 0px 0px 20px #F4436F;
    color:#000;
    border: 1px dashed #E48586;
        -webkit-transition: 2.4s; 
        -moz-transition: 2.4s;

}
td,th {
    text-align: center;
 
}
th {
    padding: 15px;
    /* background-color: #000000;
    color: #fff; */
    /* font-weight: normal; */
}




td {
    padding: 2px;
    border-bottom: 0px solid rgba(0,0,0,0.05);
}
td>span {
    color: #666;
    padding: 10px;
    display: block;
    border: 2px solid transparent;
    transition: border 0.3s ease;
}


td.avui>span {
    font-weight: bold;
    background-color: #ffb0b0;
    border: 2px dashed #e69e8f;
    border-radius:40px;
    color: #fff;
    -moz-box-shadow: 0px 0px 5px #ffb0b0;
-webkit-box-shadow: 0px 0px 5px #ffb0b0;
box-shadow: 0px 0px 5px #ffb0b0;
        -webkit-animation-name: shake;
-webkit-animation-duration: 2s;
-webkit-animation-iteration-count: infinite;
-webkit-animation-timing-function: ease-in-out;
        -webkit-transition: 0.4s; 
        -moz-transition: 0.4s;
}

td.avui>span:hover {
        color: #000;
    transform: rotate(360deg) ;
-webkit-transform: rotate(360deg) ;
-moz-transform: rotate(360deg) ;
-o-transform: rotate(360deg) ;
-ms-transform: rotate(360deg);
-webkit-animation-name: none;
-webkit-animation-duration: 2s;
-webkit-animation-iteration-count: infinite;
-webkit-animation-timing-function: ease-in-out;

    font-weight: bold;
    background-color: #ffb0b0;
    border: 2px dashed #fff;
    border-radius:0px;
        -webkit-transition: 0.4s; 
        -moz-transition: 0.4s;

}
td.fora > span {
    opacity: 0.2;
}


.boto-next, .boto-prev {
        text-shadow: 0 0 5px #111;

    background: transparent; /*#ffb0b0*/
    color: #fff;
    font-family: inherit;
border-radius:100px;
border:0px solid transparent;
font-size: 50px;
    font-weight: bold;
    line-height: 0px;
    height: 35px;
    width: 35px;
    vertical-align: middle;
    position: absolute;
    top: 112px;
    -webkit-transition: 0.4s; 
    -moz-transition: 0.4s;
    
}
.boto-next:hover, .boto-prev:hover {
    color: #E48586;
            -webkit-transition: 0.4s; 
        -moz-transition: 0.4s;
    
}
.boto-next { right: 85px; padding-left: 5px; }
.boto-prev { left: 60px; padding-right: 5px;}
@-moz-keyframes shake /* Firefox*/
{
{ -ms-transform:: translate(-1px, -2px) rotate(-1deg); }
 20% { -moz-transform: translate(-3px, 0px) rotate(1deg); }
 30% { -moz-transform:  translate(0px, 2px) rotate(0deg); }
 40% { -moz-transform:  translate(1px, -1px) rotate(1deg); }
 50% { -moz-transform:  translate(-1px, 2px) rotate(-1deg); }
 60% { -moz-transform:  translate(-3px, 1px) rotate(0deg); }
 70% { -moz-transform:  translate(2px, 1px) rotate(-1deg); }
 80% { -moz-transform:  translate(-1px, -1px) rotate(1deg); }
 90% { -moz-transform: translate(2px, 2px) rotate(0deg); }
 100% { -moz-transform:  translate(1px, -2px) rotate(-1deg); }
}
@-ms-keyframes shake /* IE9*/
{
10% { -ms-transform:: translate(-1px, -2px) rotate(-1deg); }
 20% { -ms-transform: translate(-3px, 0px) rotate(1deg); }
 30% { -ms-transform: translate(0px, 2px) rotate(0deg); }
 40% { -ms-transform: translate(1px, -1px) rotate(1deg); }
 50% { -ms-transform: translate(-1px, 2px) rotate(-1deg); }
 60% { -ms-transform: translate(-3px, 1px) rotate(0deg); }
 70% { -ms-transform: translate(2px, 1px) rotate(-1deg); }
 80% { -ms-transform: translate(-1px, -1px) rotate(1deg); }
 90% { -ms-transform: translate(2px, 2px) rotate(0deg); }
 100% { -ms-transform: translate(1px, -2px) rotate(-1deg); }
}
@-webkit-keyframes shake /* Safari and Chrome */
{
0% { -webkit-transform: translate(2px, 1px) rotate(0deg); }
 10% { -webkit-transform: translate(-1px, -2px) rotate(-1deg); }
 20% { -webkit-transform: translate(-3px, 0px) rotate(1deg); }
 30% { -webkit-transform: translate(0px, 2px) rotate(0deg); }
 40% { -webkit-transform: translate(1px, -1px) rotate(1deg); }
 50% { -webkit-transform: translate(-1px, 2px) rotate(-1deg); }
 60% { -webkit-transform: translate(-3px, 1px) rotate(0deg); }
 70% { -webkit-transform: translate(2px, 1px) rotate(-1deg); }
 80% { -webkit-transform: translate(-1px, -1px) rotate(1deg); }
 90% { -webkit-transform: translate(2px, 2px) rotate(0deg); }
 100% { -webkit-transform: translate(1px, -2px) rotate(-1deg); }
}

    </style>
</head>
<body>
    <div class="">
        <div id="calendar" ></div>
      </div>
      <script>
        var months = [
    'January',
    'February',
    'March',
    'April',
    'May',
    'June',
    'July',
    'August',
    'September',
    'October',
    'November',
    'December',
];

var days = [
    'Sunday',
    'Monday',
    'Tuesday',
    'Wedensday',
    'Thursday',
    'Friday',
    'Saturday'
];

var days_abr = [
    'S',
    'M',
    'T',
    'W',
    'T',
    'F',
    'S'
];

Number.prototype.pad = function(num) {
    var str = '';
    for(var i = 0; i < (num-this.toString().length); i++)
        str += '0';
    return str += this.toString();
}

function calendar(widget, data)
{

    var original = widget.getElementsByClassName('actiu')[0];

    if(typeof original === 'undefined')
    {
        original = document.createElement('table');
        original.setAttribute('data-actual',
			      data.getFullYear() + '/' +
			      data.getMonth().pad(2) + '/' +
			      data.getDate().pad(2))
        widget.appendChild(original);
    }

    var diff = data - new Date(original.getAttribute('data-actual'));

    diff = new Date(diff).getMonth();

    var e = document.createElement('table');

    e.className = diff  === 0 ? 'amagat-esquerra' : 'amagat-dreta';
    e.innerHTML = '';

    widget.appendChild(e);

    e.setAttribute('data-actual',
                   data.getFullYear() + '/' +
                   data.getMonth().pad(2) + '/' +
                   data.getDate().pad(2))

    var fila = document.createElement('tr');
    var titol = document.createElement('th');
    titol.setAttribute('colspan', 7);
    titol.setAttribute('class','month');

    var boto_prev = document.createElement('button');
    boto_prev.className = 'boto-prev';
    boto_prev.innerHTML = '&#8668;';

    var boto_next = document.createElement('button');
    boto_next.className = 'boto-next';
    boto_next.innerHTML = '&#8669;';

    titol.appendChild(boto_prev);
    titol.appendChild(document.createElement('span')).innerHTML =
        months[data.getMonth()] + '<span class="year">' + data.getFullYear() + '';

    titol.appendChild(boto_next);

    boto_prev.onclick = function() {
        data.setMonth(data.getMonth() - 1);
        calendar(widget, data);
    };

    boto_next.onclick = function() {
        data.setMonth(data.getMonth() + 1);
        calendar(widget, data);
    };

    fila.appendChild(titol);
    e.appendChild(fila);

    fila = document.createElement('tr');

    for(var i = 1; i < 7; i++)
    {
        fila.innerHTML += '<th class="day-header">' + days_abr[i] + '</th>';
    }

    fila.innerHTML += '<th class="day-header">' + days_abr[0] + '</th>';
    e.appendChild(fila);

    /* Obtinc el dia que va acabar el mes anterior */
    var inici_mes =
        new Date(data.getFullYear(), data.getMonth(), -1).getDay();

    var actual = new Date(data.getFullYear(),
			  data.getMonth(),
			  -inici_mes);

    /* 6 setmanes per cobrir totes les posiblitats
     *  Quedaria mes consistent alhora de mostrar molts mesos 
     *  en una quadricula */
    for(var s = 0; s < 6; s++)
    {
        var fila = document.createElement('tr');

        for(var d = 1; d < 8; d++)
        {
	    var cela = document.createElement('td');
	    var span = document.createElement('span');

	    cela.appendChild(span);

            span.innerHTML = actual.getDate();

            if(actual.getMonth() !== data.getMonth())
                cela.className = 'fora';

            /* Si es avui el decorem */
            if(data.getDate() == actual.getDate() &&
	       data.getMonth() == actual.getMonth())
		cela.className = 'avui';

	    actual.setDate(actual.getDate()+1);
            fila.appendChild(cela);
        }

        e.appendChild(fila);
    }

    setTimeout(function() {
        e.className = 'actiu';
        original.className +=
        diff === 0 ? ' amagat-dreta' : ' amagat-esquerra';
    }, 20);

    original.className = 'inactiu';

    setTimeout(function() {
        var inactius = document.getElementsByClassName('inactiu');
        for(var i = 0; i < inactius.length; i++)
            widget.removeChild(inactius[i]);
    }, 1000);

}

calendar(document.getElementById('calendar'), new Date());

    </script>
</body>
</html>
